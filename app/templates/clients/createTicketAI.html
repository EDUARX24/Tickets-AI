{% extends "layout.html" %}
{% block title %}Crear ticket con IA{% endblock %}

{% block content %}
<div class="container-fluid pt-4 px-4" style="background-color:#f5f6fa; min-height: 100vh;">

  <div class="row justify-content-center">
    <div class="col-12 col-lg-10">

      <!-- Encabezado -->
      <div class="rounded p-4 shadow-sm mb-4" style="background: linear-gradient(135deg, #e8f5e9, #f1fff5);">
        <h5 class="mb-1 text-success fw-bold">
          <i class="bi bi-stars me-2"></i> Crear ticket con IA
        </h5>
        <p class="mb-0 text-muted">
          Escribe libremente el problema y, en la siguiente fase, la IA se encargará de
          proponer el título, la categoría y la prioridad del ticket.
        </p>
      </div>

      <div class="row g-4">
        <!-- Zona de entrada -->
        <div class="col-lg-8">
          <div class="bg-white rounded p-4 shadow-sm">

            <!-- Por ahora el formulario es solo visual, no hace POST real -->
            <form action="{{ url_for('client_admin.create_ticket_ai') }}" method="post">

              <!-- TÍTULO -->
              <div class="mb-3">
                <label class="form-label fw-semibold">Título sugerido <span class="text-danger">*</span></label>
                <input type="text" id="ia_title" name="ia_title" class="form-control"
                  placeholder="Ejemplo: Problemas con Microsoft Teams" required />
              </div>

              <!-- DESCRIPCIÓN -->
              <div class="mb-3">
                <label class="form-label fw-semibold">Descripción del incidente <span
                    class="text-danger">*</span></label>
                <textarea id="ia_description" name="ia_description" class="form-control" rows="4"
                  placeholder="Describe aquí el problema con todos los detalles..." required></textarea>
              </div>

              <div class="d-flex justify-content-end">
                <button type="submit" class="btn btn-success">
                  <i class="bi bi-robot me-1"></i> Generar ticket con IA
                </button>
              </div>
            </form>
          </div>
        </div>

        <!-- Panel lateral: vista previa / ayuda -->
        <div class="col-lg-4">
          <div class="bg-white rounded p-4 shadow-sm mb-3">
            <h6 class="fw-semibold mb-2">
              <i class="bi bi-eye me-1 text-success"></i> Vista previa del ticket
            </h6>
            <p class="small text-muted mb-1">
              Así podría verse el ticket que la IA generará a partir de tu descripción:
            </p>
            <div class="border rounded p-3 small">
              <p class="mb-1 text-muted">Título sugerido</p>
              <p class="fw-semibold mb-2">[Generado por IA]</p>

              <p class="mb-1 text-muted">Categoría sugerida</p>
              <span class="badge bg-primary-subtle text-primary mb-2">[Categoría IA]</span>

              <p class="mb-1 text-muted">Prioridad sugerida</p>
              <span class="badge bg-danger-subtle text-danger mb-2">[Prioridad IA]</span>

              <p class="mb-1 text-muted">Resumen</p>
              <p class="text-muted mb-0">
                [Resumen breve que se generará automáticamente con base en tu descripción.]
              </p>
            </div>
          </div>

          <div class="bg-white rounded p-4 shadow-sm">
            <h6 class="fw-semibold mb-2">
              <i class="bi bi-lightbulb me-1 text-warning"></i> Consejos para mejores resultados
            </h6>
            <ul class="small text-muted ps-3 mb-0">
              <li>Menciona el sistema o equipo afectado (PC, impresora, servidor, etc.).</li>
              <li>Indica si afecta a un usuario o a toda un área.</li>
              <li>Incluye mensajes de error o comportamientos raros.</li>
              <li>Indica desde cuándo ocurre el problema.</li>
            </ul>
          </div>
        </div>

      </div>
    </div>
  </div>

</div>
{% endblock %}